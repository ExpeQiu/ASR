{"version":3,"sources":["index.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["dropArea","document","getElementById","audioFilesInput","fileList","startAllButton","globalStatusMessage","transcriptionFileName","transcriptionOutput","templateSelect","copyButton","downloadButton","API_BASE_URL","uploadedFiles","activeFileId","initEventListeners","addEventListener","handleFilesSelected","click","handleDragOver","handleDrop","startAllTranscriptions","copyTranscriptionText","downloadTranscriptionText","applyTemplate","event","files","target","length","processFiles","preventDefault","stopPropagation","classList","add","remove","dataTransfer","validFiles","allowedFormats","maxSize","Array","from","forEach","file","fileExt","name","split","pop","toLowerCase","includes","showGlobalMessage","concat","size","fileId","generateUniqueId","push","id","originalName","status","progress","result","renderFileList","disabled","innerHTML","fileInfo","listItem","createElement","className","dataset","statusText","getStatusText","formattedSize","formatFileSize","progressBar","querySelector","style","width","displayTranscriptionResult","appendChild","bytes","toFixed","Date","now","toString","Math","random","substring","pendingFiles","filter","uploadFile","formData","FormData","append","xhr","XMLHttpRequest","upload","lengthComputable","percentComplete","round","loaded","total","response","JSON","parse","responseText","success","serverId","data","transcribeFile","error","message","e","open","send","fetch","method","headers","body","stringify","then","ok","Error","json","pollTranscriptionStatus","catch","checkStatus","getTranscriptionResult","setTimeout","transcription","textContent","value","find","info","templateName","formattedText","formatWithTimestamps","formatWithSpeakers","text","sentences","s","trim","currentTime","sentence","minutes","floor","seconds","timeStr","padStart","speakers","index","speaker","select","execCommand","filename","blob","Blob","type","url","URL","createObjectURL","a","href","download","removeChild","revokeObjectURL","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","stack","overlay","createErrorOverlay","stackTrace","innerText","getParents","modules","parents","k","d","dep","isArray","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"../src","sourcesContent":["/**\n * è¯­éŸ³è½¬æ–‡å­—å·¥å…·å‰ç«¯ä¸»æ–‡ä»¶\n * å®ç°æ–‡ä»¶ä¸Šä¼ ã€æ‹–æ”¾ã€å‘é€è¯·æ±‚å’Œå±•ç¤ºç»“æœåŠŸèƒ½\n */\n\n// è·å–DOMå…ƒç´ \nconst dropArea = document.getElementById('dropArea');\nconst audioFilesInput = document.getElementById('audioFilesInput');\nconst fileList = document.getElementById('fileList');\nconst startAllButton = document.getElementById('startAllButton');\nconst globalStatusMessage = document.getElementById('globalStatusMessage');\nconst transcriptionFileName = document.getElementById('transcriptionFileName');\nconst transcriptionOutput = document.getElementById('transcriptionOutput');\nconst templateSelect = document.getElementById('templateSelect');\nconst copyButton = document.getElementById('copyButton');\nconst downloadButton = document.getElementById('downloadButton');\n\n// å…¨å±€å˜é‡\nconst API_BASE_URL = 'http://localhost:8000/api/v1'; // åç«¯APIåŸºç¡€URL\nconst uploadedFiles = []; // å­˜å‚¨ä¸Šä¼ çš„æ–‡ä»¶ä¿¡æ¯\nlet activeFileId = null; // å½“å‰é€‰ä¸­çš„æ–‡ä»¶ID\n\n/**\n * åˆå§‹åŒ–äº‹ä»¶ç›‘å¬å™¨\n */\nfunction initEventListeners() {\n    // æ–‡ä»¶é€‰æ‹©å™¨å˜æ›´äº‹ä»¶\n    audioFilesInput.addEventListener('change', handleFilesSelected);\n\n    // æ–‡ä»¶æ‹–æ”¾åŒºåŸŸäº‹ä»¶\n    dropArea.addEventListener('click', () => audioFilesInput.click());\n    dropArea.addEventListener('dragover', handleDragOver);\n    dropArea.addEventListener('drop', handleDrop);\n    \n    // å¼€å§‹è½¬å½•æŒ‰é’®äº‹ä»¶\n    startAllButton.addEventListener('click', startAllTranscriptions);\n    \n    // è¾“å‡ºæ“ä½œæŒ‰é’®äº‹ä»¶\n    copyButton.addEventListener('click', copyTranscriptionText);\n    downloadButton.addEventListener('click', downloadTranscriptionText);\n    \n    // æ¨¡æ¿é€‰æ‹©å˜æ›´äº‹ä»¶\n    templateSelect.addEventListener('change', applyTemplate);\n}\n\n/**\n * æ–‡ä»¶é€‰æ‹©å¤„ç†å‡½æ•°\n * @param {Event} event - æ–‡ä»¶é€‰æ‹©äº‹ä»¶\n */\nfunction handleFilesSelected(event) {\n    const files = event.target.files;\n    if (files && files.length > 0) {\n        processFiles(files);\n    }\n}\n\n/**\n * æ‹–æ‹½æ‚¬åœå¤„ç†å‡½æ•°\n * @param {Event} event - æ‹–æ‹½äº‹ä»¶\n */\nfunction handleDragOver(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    dropArea.classList.add('dragover');\n}\n\n/**\n * æ–‡ä»¶æ‹–æ”¾å¤„ç†å‡½æ•°\n * @param {Event} event - æ‹–æ”¾äº‹ä»¶\n */\nfunction handleDrop(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    dropArea.classList.remove('dragover');\n    \n    const files = event.dataTransfer.files;\n    if (files && files.length > 0) {\n        processFiles(files);\n    }\n}\n\n/**\n * å¤„ç†æ–‡ä»¶ä¸Šä¼ \n * @param {FileList} files - æ–‡ä»¶åˆ—è¡¨\n */\nfunction processFiles(files) {\n    let validFiles = 0;\n    const allowedFormats = ['.mp3', '.wav', '.m4a', '.flac'];\n    const maxSize = 52428800; // 50MB\n    \n    Array.from(files).forEach(file => {\n        // æ£€æŸ¥æ–‡ä»¶æ ¼å¼\n        const fileExt = '.' + file.name.split('.').pop().toLowerCase();\n        if (!allowedFormats.includes(fileExt)) {\n            showGlobalMessage(`ä¸æ”¯æŒçš„æ–‡ä»¶æ ¼å¼: ${file.name}`, 'error');\n            return;\n        }\n        \n        // æ£€æŸ¥æ–‡ä»¶å¤§å°\n        if (file.size > maxSize) {\n            showGlobalMessage(`æ–‡ä»¶å¤§å°è¶…è¿‡é™åˆ¶ (50MB): ${file.name}`, 'error');\n            return;\n        }\n        \n        // ç”Ÿæˆå”¯ä¸€æ–‡ä»¶ID\n        const fileId = generateUniqueId();\n        \n        // æ·»åŠ åˆ°æ–‡ä»¶åˆ—è¡¨\n        uploadedFiles.push({\n            id: fileId,\n            file: file,\n            originalName: file.name,\n            size: file.size,\n            status: 'pending', // çŠ¶æ€: pending, uploading, processing, completed, error\n            progress: 0,\n            result: null\n        });\n        \n        // æ›´æ–°UI\n        renderFileList();\n        validFiles++;\n    });\n    \n    // å¦‚æœæœ‰æœ‰æ•ˆæ–‡ä»¶ï¼Œå¯ç”¨å¼€å§‹æŒ‰é’®\n    if (validFiles > 0) {\n        startAllButton.disabled = false;\n    }\n}\n\n/**\n * æ¸²æŸ“æ–‡ä»¶åˆ—è¡¨\n */\nfunction renderFileList() {\n    fileList.innerHTML = '';\n    \n    uploadedFiles.forEach(fileInfo => {\n        const listItem = document.createElement('li');\n        listItem.className = `file-item ${fileInfo.status} ${activeFileId === fileInfo.id ? 'active' : ''}`;\n        listItem.dataset.fileId = fileInfo.id;\n        \n        // æ ¹æ®æ–‡ä»¶çŠ¶æ€æ˜¾ç¤ºä¸åŒå†…å®¹\n        const statusText = getStatusText(fileInfo.status);\n        const formattedSize = formatFileSize(fileInfo.size);\n        \n        listItem.innerHTML = `\n            <div class=\"file-item-header\">\n                <div class=\"file-name\">${fileInfo.originalName}</div>\n                <div class=\"file-size\">${formattedSize}</div>\n            </div>\n            <div class=\"file-status ${fileInfo.status}\">${statusText}</div>\n            <div class=\"progress-bar-container\">\n                <div class=\"progress-bar progress-${fileInfo.progress}\"></div>\n            </div>\n        `;\n        \n        // é€šè¿‡JSè®¾ç½®å®½åº¦è€Œä¸æ˜¯å†…è”æ ·å¼\n        const progressBar = listItem.querySelector('.progress-bar');\n        progressBar.style.width = `${fileInfo.progress}%`;\n        \n        // ç‚¹å‡»æ–‡ä»¶é¡¹æ˜¾ç¤ºè½¬å½•ç»“æœ\n        listItem.addEventListener('click', () => {\n            activeFileId = fileInfo.id;\n            renderFileList(); // æ›´æ–°æ´»è·ƒçŠ¶æ€\n            displayTranscriptionResult(fileInfo);\n        });\n        \n        fileList.appendChild(listItem);\n    });\n}\n\n/**\n * æ ¹æ®æ–‡ä»¶çŠ¶æ€è·å–çŠ¶æ€æ–‡æœ¬\n * @param {string} status - æ–‡ä»¶çŠ¶æ€\n * @returns {string} çŠ¶æ€æè¿°æ–‡æœ¬\n */\nfunction getStatusText(status) {\n    switch(status) {\n        case 'pending': return 'ç­‰å¾…ä¸Šä¼ ';\n        case 'uploading': return 'ä¸Šä¼ ä¸­...';\n        case 'processing': return 'è½¬å½•å¤„ç†ä¸­...';\n        case 'completed': return 'è½¬å½•å®Œæˆ';\n        case 'error': return 'å¤„ç†å¤±è´¥';\n        default: return 'æœªçŸ¥çŠ¶æ€';\n    }\n}\n\n/**\n * æ ¼å¼åŒ–æ–‡ä»¶å¤§å°\n * @param {number} bytes - æ–‡ä»¶å­—èŠ‚å¤§å°\n * @returns {string} æ ¼å¼åŒ–åçš„å¤§å°å­—ç¬¦ä¸²\n */\nfunction formatFileSize(bytes) {\n    if (bytes < 1024) return bytes + ' B';\n    if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';\n    return (bytes / 1048576).toFixed(1) + ' MB';\n}\n\n/**\n * ç”Ÿæˆå”¯ä¸€ID\n * @returns {string} å”¯ä¸€ID\n */\nfunction generateUniqueId() {\n    return Date.now().toString(36) + Math.random().toString(36).substring(2);\n}\n\n/**\n * å¼€å§‹æ‰€æœ‰æ–‡ä»¶çš„è½¬å½•å¤„ç†\n */\nfunction startAllTranscriptions() {\n    const pendingFiles = uploadedFiles.filter(fileInfo => fileInfo.status === 'pending');\n    \n    if (pendingFiles.length === 0) {\n        showGlobalMessage('æ²¡æœ‰å¾…å¤„ç†çš„æ–‡ä»¶', 'error');\n        return;\n    }\n    \n    pendingFiles.forEach(fileInfo => {\n        uploadFile(fileInfo);\n    });\n}\n\n/**\n * ä¸Šä¼ å•ä¸ªæ–‡ä»¶\n * @param {Object} fileInfo - æ–‡ä»¶ä¿¡æ¯å¯¹è±¡\n */\nfunction uploadFile(fileInfo) {\n    // æ›´æ–°çŠ¶æ€\n    fileInfo.status = 'uploading';\n    fileInfo.progress = 0;\n    renderFileList();\n    \n    // åˆ›å»ºFormDataå¯¹è±¡\n    const formData = new FormData();\n    formData.append('audioFile', fileInfo.file);\n    \n    // åˆ›å»ºXHRè¯·æ±‚\n    const xhr = new XMLHttpRequest();\n    \n    // è¿›åº¦äº‹ä»¶\n    xhr.upload.addEventListener('progress', (event) => {\n        if (event.lengthComputable) {\n            const percentComplete = Math.round((event.loaded / event.total) * 100);\n            fileInfo.progress = percentComplete;\n            renderFileList();\n        }\n    });\n    \n    // è¯·æ±‚å®Œæˆ\n    xhr.addEventListener('load', () => {\n        if (xhr.status >= 200 && xhr.status < 300) {\n            try {\n                const response = JSON.parse(xhr.responseText);\n                if (response.success) {\n                    // ä¸Šä¼ æˆåŠŸï¼Œå¼€å§‹å¤„ç†è½¬å½•\n                    fileInfo.serverId = response.data.fileId;\n                    fileInfo.status = 'processing';\n                    fileInfo.progress = 100;\n                    renderFileList();\n                    \n                    // è§¦å‘è½¬å½•å¤„ç†\n                    transcribeFile(fileInfo);\n                } else {\n                    // å¤„ç†é”™è¯¯\n                    fileInfo.status = 'error';\n                    fileInfo.error = response.error.message;\n                    showGlobalMessage(`ä¸Šä¼ å¤±è´¥: ${response.error.message}`, 'error');\n                    renderFileList();\n                }\n            } catch (e) {\n                // JSONè§£æé”™è¯¯\n                fileInfo.status = 'error';\n                fileInfo.error = 'æœåŠ¡å™¨å“åº”æ ¼å¼é”™è¯¯';\n                showGlobalMessage('æœåŠ¡å™¨å“åº”æ ¼å¼é”™è¯¯', 'error');\n                renderFileList();\n            }\n        } else {\n            // HTTPé”™è¯¯\n            fileInfo.status = 'error';\n            fileInfo.error = `HTTPé”™è¯¯: ${xhr.status}`;\n            showGlobalMessage(`ä¸Šä¼ å¤±è´¥: HTTPé”™è¯¯ ${xhr.status}`, 'error');\n            renderFileList();\n        }\n    });\n    \n    // è¯·æ±‚é”™è¯¯\n    xhr.addEventListener('error', () => {\n        fileInfo.status = 'error';\n        fileInfo.error = 'ç½‘ç»œé”™è¯¯';\n        showGlobalMessage('ä¸Šä¼ å¤±è´¥: ç½‘ç»œé”™è¯¯', 'error');\n        renderFileList();\n    });\n    \n    // è¯·æ±‚è¶…æ—¶\n    xhr.addEventListener('timeout', () => {\n        fileInfo.status = 'error';\n        fileInfo.error = 'è¯·æ±‚è¶…æ—¶';\n        showGlobalMessage('ä¸Šä¼ å¤±è´¥: è¯·æ±‚è¶…æ—¶', 'error');\n        renderFileList();\n    });\n    \n    // å‘é€è¯·æ±‚\n    xhr.open('POST', `${API_BASE_URL}/files`, true);\n    xhr.send(formData);\n}\n\n/**\n * è§¦å‘æ–‡ä»¶è½¬å½•å¤„ç†\n * @param {Object} fileInfo - æ–‡ä»¶ä¿¡æ¯å¯¹è±¡\n */\nfunction transcribeFile(fileInfo) {\n    // åˆ›å»ºè½¬å½•è¯·æ±‚\n    fetch(`${API_BASE_URL}/transcriptions/${fileInfo.serverId}`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({})\n    })\n    .then(response => {\n        if (!response.ok) {\n            throw new Error(`HTTP error ${response.status}`);\n        }\n        return response.json();\n    })\n    .then(data => {\n        if (data.success) {\n            // å¼€å§‹è½®è¯¢è½¬å½•çŠ¶æ€\n            pollTranscriptionStatus(fileInfo);\n        } else {\n            throw new Error(data.error.message || 'è½¬å½•è¯·æ±‚å¤±è´¥');\n        }\n    })\n    .catch(error => {\n        fileInfo.status = 'error';\n        fileInfo.error = error.message;\n        showGlobalMessage(`è½¬å½•å¤„ç†å¤±è´¥: ${error.message}`, 'error');\n        renderFileList();\n    });\n}\n\n/**\n * è½®è¯¢è½¬å½•çŠ¶æ€\n * @param {Object} fileInfo - æ–‡ä»¶ä¿¡æ¯å¯¹è±¡\n */\nfunction pollTranscriptionStatus(fileInfo) {\n    const checkStatus = () => {\n        fetch(`${API_BASE_URL}/transcriptions/${fileInfo.serverId}/status`)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(`HTTP error ${response.status}`);\n                }\n                return response.json();\n            })\n            .then(data => {\n                if (data.success) {\n                    const status = data.data.status;\n                    \n                    if (status === 'completed') {\n                        // è½¬å½•å®Œæˆï¼Œè·å–ç»“æœ\n                        getTranscriptionResult(fileInfo);\n                    } else if (status === 'error') {\n                        // è½¬å½•é”™è¯¯\n                        throw new Error(data.data.error || 'è½¬å½•å¤„ç†å¤±è´¥');\n                    } else {\n                        // ç»§ç»­è½®è¯¢\n                        setTimeout(checkStatus, 2000);\n                    }\n                } else {\n                    throw new Error(data.error.message || 'è·å–çŠ¶æ€å¤±è´¥');\n                }\n            })\n            .catch(error => {\n                fileInfo.status = 'error';\n                fileInfo.error = error.message;\n                showGlobalMessage(`è·å–è½¬å½•çŠ¶æ€å¤±è´¥: ${error.message}`, 'error');\n                renderFileList();\n            });\n    };\n    \n    // å¼€å§‹è½®è¯¢\n    checkStatus();\n}\n\n/**\n * è·å–è½¬å½•ç»“æœ\n * @param {Object} fileInfo - æ–‡ä»¶ä¿¡æ¯å¯¹è±¡\n */\nfunction getTranscriptionResult(fileInfo) {\n    fetch(`${API_BASE_URL}/transcriptions/${fileInfo.serverId}/result`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(`HTTP error ${response.status}`);\n            }\n            return response.json();\n        })\n        .then(data => {\n            if (data.success) {\n                // æ›´æ–°çŠ¶æ€å’Œç»“æœ\n                fileInfo.status = 'completed';\n                fileInfo.result = data.data.transcription;\n                renderFileList();\n                \n                // å¦‚æœè¿™æ˜¯å½“å‰æ´»è·ƒçš„æ–‡ä»¶ï¼Œæ˜¾ç¤ºç»“æœ\n                if (activeFileId === fileInfo.id) {\n                    displayTranscriptionResult(fileInfo);\n                }\n                \n                showGlobalMessage(`${fileInfo.originalName} è½¬å½•å®Œæˆï¼`, 'success');\n            } else {\n                throw new Error(data.error.message || 'è·å–ç»“æœå¤±è´¥');\n            }\n        })\n        .catch(error => {\n            fileInfo.status = 'error';\n            fileInfo.error = error.message;\n            showGlobalMessage(`è·å–è½¬å½•ç»“æœå¤±è´¥: ${error.message}`, 'error');\n            renderFileList();\n        });\n}\n\n/**\n * æ˜¾ç¤ºè½¬å½•ç»“æœ\n * @param {Object} fileInfo - æ–‡ä»¶ä¿¡æ¯å¯¹è±¡\n */\nfunction displayTranscriptionResult(fileInfo) {\n    transcriptionFileName.textContent = fileInfo.originalName;\n    \n    if (fileInfo.status === 'completed' && fileInfo.result) {\n        // åº”ç”¨æ¨¡æ¿æ ¼å¼åŒ–ç»“æœ\n        applyTemplate();\n        \n        // å¯ç”¨æ“ä½œæŒ‰é’®\n        copyButton.disabled = false;\n        downloadButton.disabled = false;\n    } else {\n        // æ˜¾ç¤ºå½“å‰çŠ¶æ€ä¿¡æ¯\n        transcriptionOutput.value = `æ–‡ä»¶çŠ¶æ€: ${getStatusText(fileInfo.status)}`;\n        if (fileInfo.error) {\n            transcriptionOutput.value += `\\né”™è¯¯ä¿¡æ¯: ${fileInfo.error}`;\n        }\n        \n        // ç¦ç”¨æ“ä½œæŒ‰é’®\n        copyButton.disabled = true;\n        downloadButton.disabled = true;\n    }\n}\n\n/**\n * åº”ç”¨æ¨¡æ¿æ ¼å¼åŒ–è½¬å½•ç»“æœ\n */\nfunction applyTemplate() {\n    if (!activeFileId) return;\n    \n    const fileInfo = uploadedFiles.find(info => info.id === activeFileId);\n    if (!fileInfo || fileInfo.status !== 'completed' || !fileInfo.result) return;\n    \n    const templateName = templateSelect.value;\n    let formattedText = fileInfo.result;\n    \n    // æ ¹æ®ä¸åŒæ¨¡æ¿è¿›è¡Œæ ¼å¼åŒ–ï¼ˆç®€å•ç¤ºä¾‹ï¼‰\n    switch (templateName) {\n        case 'timestamp':\n            // å‡è®¾åŸå§‹ç»“æœä¸­æœ‰æ—¶é—´æˆ³ä¿¡æ¯ï¼Œè¿™é‡Œç®€å•æ¨¡æ‹Ÿ\n            formattedText = formatWithTimestamps(fileInfo.result);\n            break;\n        case 'speaker':\n            // å‡è®¾åŸå§‹ç»“æœä¸­æœ‰è¯´è¯äººä¿¡æ¯ï¼Œè¿™é‡Œç®€å•æ¨¡æ‹Ÿ\n            formattedText = formatWithSpeakers(fileInfo.result);\n            break;\n        default:\n            // é»˜è®¤æ¨¡æ¿ï¼Œç›´æ¥ä½¿ç”¨åŸå§‹ç»“æœ\n            break;\n    }\n    \n    transcriptionOutput.value = formattedText;\n}\n\n/**\n * æ¨¡æ‹Ÿæ·»åŠ æ—¶é—´æˆ³æ ¼å¼\n * @param {string} text - åŸå§‹æ–‡æœ¬\n * @returns {string} æ ¼å¼åŒ–åçš„æ–‡æœ¬\n */\nfunction formatWithTimestamps(text) {\n    // è¿™é‡Œä»…ä½œç¤ºä¾‹ï¼Œå®é™…åº”ä»APIè¿”å›å€¼ä¸­æå–æ—¶é—´æˆ³\n    const sentences = text.split(/[.!?ã€‚ï¼ï¼Ÿ]/g).filter(s => s.trim().length > 0);\n    let result = '';\n    let currentTime = 0;\n    \n    sentences.forEach(sentence => {\n        const minutes = Math.floor(currentTime / 60);\n        const seconds = Math.floor(currentTime % 60);\n        const timeStr = `[${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}]`;\n        \n        result += `${timeStr} ${sentence.trim()}ã€‚\\n\\n`;\n        currentTime += Math.floor(sentence.length / 5) + 2; // ç®€å•æ¨¡æ‹Ÿæ—¶é—´å¢é•¿\n    });\n    \n    return result;\n}\n\n/**\n * æ¨¡æ‹Ÿæ·»åŠ è¯´è¯äººæ ¼å¼\n * @param {string} text - åŸå§‹æ–‡æœ¬\n * @returns {string} æ ¼å¼åŒ–åçš„æ–‡æœ¬\n */\nfunction formatWithSpeakers(text) {\n    // è¿™é‡Œä»…ä½œç¤ºä¾‹ï¼Œå®é™…åº”ä»APIè¿”å›å€¼ä¸­æå–è¯´è¯äººä¿¡æ¯\n    const sentences = text.split(/[.!?ã€‚ï¼ï¼Ÿ]/g).filter(s => s.trim().length > 0);\n    let result = '';\n    const speakers = ['è¯´è¯äººA', 'è¯´è¯äººB'];\n    \n    sentences.forEach((sentence, index) => {\n        const speaker = speakers[index % speakers.length];\n        result += `${speaker}: ${sentence.trim()}ã€‚\\n\\n`;\n    });\n    \n    return result;\n}\n\n/**\n * å¤åˆ¶è½¬å½•æ–‡æœ¬åˆ°å‰ªè´´æ¿\n */\nfunction copyTranscriptionText() {\n    transcriptionOutput.select();\n    document.execCommand('copy');\n    \n    showGlobalMessage('æ–‡æœ¬å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼', 'success');\n}\n\n/**\n * ä¸‹è½½è½¬å½•æ–‡æœ¬ä¸ºTXTæ–‡ä»¶\n */\nfunction downloadTranscriptionText() {\n    if (!activeFileId) return;\n    \n    const fileInfo = uploadedFiles.find(info => info.id === activeFileId);\n    if (!fileInfo) return;\n    \n    const text = transcriptionOutput.value;\n    const filename = fileInfo.originalName.split('.')[0] + '_è½¬å½•.txt';\n    \n    const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });\n    const url = URL.createObjectURL(blob);\n    \n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    \n    setTimeout(() => {\n        document.body.removeChild(a);\n        URL.revokeObjectURL(url);\n    }, 100);\n}\n\n/**\n * æ˜¾ç¤ºå…¨å±€çŠ¶æ€æ¶ˆæ¯\n * @param {string} message - æ¶ˆæ¯å†…å®¹\n * @param {string} type - æ¶ˆæ¯ç±»å‹ (success/error)\n */\nfunction showGlobalMessage(message, type) {\n    globalStatusMessage.textContent = message;\n    globalStatusMessage.className = `status-global ${type}`;\n    globalStatusMessage.classList.remove('hidden');\n    \n    // 5ç§’åè‡ªåŠ¨éšè—\n    setTimeout(() => {\n        globalStatusMessage.classList.add('hidden');\n    }, 5000);\n}\n\n// é¡µé¢åŠ è½½å®Œæˆæ—¶åˆå§‹åŒ–\ndocument.addEventListener('DOMContentLoaded', () => {\n    initEventListeners();\n}); ","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] âœ¨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] ğŸš¨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">ğŸš¨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}